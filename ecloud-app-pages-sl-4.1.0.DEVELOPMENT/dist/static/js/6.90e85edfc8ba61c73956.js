webpackJsonp([6],{"/anY":function(e,t){},"94vI":function(e,t,n){var a=n("VU/8")(n("EeRM"),n("H8My"),function(e){n("/anY")},"data-v-34f9653d",null);e.exports=a.exports},EeRM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("lDuy"),i=n("LMdq");n.n(i),t.default={mixins:[a.a],props:{fixedWidth:{type:String,default:"100%"},versionList:{type:Array,default:function(){return[{version:"4.0.0",model:"基础平台",metto:["本版本中进行了页面扁平化的设计，在用户体验和流程上进行了大的优化，性能大大提升"]}]}},type:{type:String,default:"platform"},title:{type:String,default:""},back:{type:String,default:"/"},name:{type:String,default:""},lang:{type:String,default:"zh-CN"},langList:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:{getLangName:function(e){var t="";return this.langList.forEach(function(n){n.value==e&&(t=n.name)}),t},handleCommand:function(e){this.lang=e,this.handleChangeLange(this.lang)},handleImgError:function(){this.getUnitLogo="/common/images/shiyuelogo.png"}}}},H8My:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sy-header-nav"},[n("div",{staticClass:"sy-header-nav",style:{width:e.fixedWidth}},[n("div",{staticClass:"sy-header-nav-left"},[n("img",{attrs:{src:e.getUnitLogo,onerror:e.handleImgError}}),e._v(" "),n("span",{staticClass:"sy-header-nav-title"},[e._v(e._s(e.title))])]),e._v(" "),n("div",{staticClass:"sy-header-nav-right"},["platform"==e.type?n("img",{attrs:{src:"/common/images/base/header.png"}}):e._e(),e._v(" "),n("div",{staticClass:"sy-header-btn-box"},["platform"==e.type?n("span",[e._v(e._s(e.$store.state.lang.header.welcome+(e.userName?","+e.userName:e.userName)+"!"))]):e._e(),e._v(" "),n("span",{attrs:{title:e.$store.state.lang.header.back}},[n("i",{staticClass:"fa fa-university",staticStyle:{color:"#fff"},on:{click:e.handleBack}})]),e._v(" "),e.$slots.back?n("span",[e._t("back")],2):e._e(),e._v(" "),n("span",{attrs:{title:e.$store.state.lang.header.skin}},[n("i",{staticClass:"fa fa-television",staticStyle:{color:"#fff"},attrs:{"aria-hidden":"true"},on:{click:function(t){e.open("theme")}}})]),e._v(" "),n("span",{attrs:{title:e.$store.state.lang.header.about}},[n("i",{staticClass:"fa fa-exclamation-circle fa-rotate-180",staticStyle:{color:"#fff"},on:{click:function(t){e.aboutDialog=!0}}})]),e._v(" "),n("span",{attrs:{title:e.$store.state.lang.header.logout}},[n("i",{staticClass:"fa fa-power-off",staticStyle:{color:"#fff"},attrs:{"aria-hidden":"true"},on:{click:function(t){e.open("logout")}}})]),e._v(" "),e.env?n("span",{attrs:{title:"开发端口"},on:{click:function(t){e.open("host")}}},[n("i",{staticClass:"fa fa-connectdevelop",attrs:{"aria-hidden":"true"}})]):e._e(),e._v(" "),e.env?n("span",{attrs:{title:"中英文对照"},on:{click:function(t){e.open("lang")}}},[n("i",{staticClass:"fa fa-american-sign-language-interpreting",attrs:{"aria-hidden":"true"}})]):e._e(),e._v(" "),n("span",{staticClass:"sy-header-fullscreen",attrs:{title:e.isfullscreen?e.$store.state.lang.header.exit:e.$store.state.lang.header.enter},on:{click:function(t){e.open("full")}}},[n("i",{class:"mdi mdi-fullscreen"+(e.isfullscreen?"-exit":""),staticStyle:{color:"#fff","font-size":"24px",position:"relative",top:"3px"}})]),e._v(" "),n("br"),e._v(" "),n("el-dropdown",{staticStyle:{color:"#fff","margin-right":"8px"},attrs:{trigger:"click"},on:{command:e.handleCommand}},[n("span",{staticClass:"el-dropdown-link"},[e._v("\n                        "+e._s(e.getLangName(e.lang))+" "),n("i",{staticClass:"fa fa-sort-desc"})]),e._v(" "),n("el-dropdown-menu",{slot:"dropdown"},e._l(e.langList,function(t){return n("el-dropdown-item",{key:t.value,staticStyle:{"font-size":"12px","line-height":"28px"},attrs:{command:t.value}},[e._v(e._s(t.name))])}))],1)],1)]),e._v(" "),e.$slots.body?n("div",{staticClass:"sy-header-nav-center"},[e._t("body")],2):e._e()]),e._v(" "),n("el-dialog",{attrs:{title:"开发端口",visible:e.dialogFormVisible,size:"tiny"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[n("div",[n("el-input",{attrs:{placeholder:"请输入地址"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13))return null;e.changeHost(t)}},model:{value:e.inputHost,callback:function(t){e.inputHost=t},expression:"inputHost"}})],1),e._v(" "),n("div",{staticClass:"dialog-footer",slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.changeHost}},[e._v("确 定")])],1)]),e._v(" "),e.env?n("sy-dialog",{attrs:{title:"中英文对照表查询",position:"right",height:"100%",width:"50%",slide:"right",visible:e.langModelDialog},on:{"update:visible":function(t){e.langModelDialog=t}}},[n("div",{staticStyle:{padding:"10px 20px",overflow:"auto"},slot:"body"},[n("pre",[e._v(e._s(e.$store.state.lang))])]),e._v(" "),n("div",{staticClass:"right",slot:"footer"},[n("el-button",{on:{click:function(t){e.langModelDialog=!1}}},[e._v("关闭")])],1)]):e._e(),e._v(" "),n("el-dialog",{attrs:{title:e.$store.state.lang.header.about,visible:e.aboutDialog,size:"tiny"},on:{"update:visible":function(t){e.aboutDialog=t}}},[n("div",{staticClass:"sy-about-top"},[n("img",{staticClass:"sy-about-logo",attrs:{src:"/common/images/aboutLogo.png"}}),e._v(" "),n("span",{staticClass:"sy-about-logo-text"},[e._v(e._s(e.$store.state.lang.header.name))])]),e._v(" "),n("div",{staticClass:"sy-about-cont"},[n("el-row",{staticStyle:{"line-height":"28px"}},[n("el-col",{staticClass:"right",attrs:{span:8}},[e._v(e._s(e.$store.state.lang.header.pmodule)+"：")]),e._v(" "),n("el-col",{attrs:{span:16}},[e._v(e._s(e.versionList[e.versionList.length-1].model))]),e._v(" "),n("el-col",{staticClass:"right",attrs:{span:8}},[e._v(e._s(e.$store.state.lang.header.version)+"：")]),e._v(" "),n("el-col",{attrs:{span:16}},[e._v(e._s(e.versionList[e.versionList.length-1].version))]),e._v(" "),n("el-col",{staticClass:"right",attrs:{span:8}},[e._v(e._s(e.$store.state.lang.header.desc)+"：")]),e._v(" "),n("el-col",{attrs:{span:16}},e._l(e.versionList[e.versionList.length-1].metto,function(t,a){return n("div",{key:"metto_"+a},[e._v(e._s(1*a+1)+"."+e._s(t)+"；")])}))],1)],1),e._v(" "),n("div",{staticClass:"sy-about-foot"},[n("div",[e._v(e._s(e.$store.state.lang.header.name))]),e._v(" "),n("div",[e._v(e._s(e.$store.state.lang.header.copyright))])])]),e._v(" "),n("sy-dialog",{attrs:{title:e.$store.state.lang.header.theme,"close-on-click-modal":!1,position:"middle",height:"auto",width:"550px",slide:"fade",visible:e.themeModelDialog},on:{"update:visible":function(t){e.themeModelDialog=t}}},[n("div",{staticStyle:{padding:"10px 20px"},slot:"body"},[n("div",{staticClass:"sy-sy-theme-row"},[n("p",[e._v(e._s(e.$store.state.lang.header.systheme))]),e._v(" "),n("ul",{staticClass:"sy-parmary-color"},[e._l(e.themeColorList,function(t){return n("li",{key:t.color,on:{click:function(n){e.changeThemeColor(t.color)}}},[n("i",{style:{background:t.color}}),e._v(" "),n("p",{staticClass:"center"},[e._v(e._s(t[e.lang]))])])}),e._v(" "),n("li",[n("sy-color-picker",{staticClass:"color-other",attrs:{defaultColor:"#20a0ff"},on:{change:e.handleChange},model:{value:e.currentColor,callback:function(t){e.currentColor=t},expression:"currentColor"}}),e._v(" "),n("p",{staticClass:"center"},[e._v(e._s(e.$store.state.lang.header.other))])],1)],2)])])])],1)},staticRenderFns:[]}},LMdq:function(e,t){},WYl9:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return l}),n.d(t,"d",function(){return r}),n.d(t,"b",function(){return c});var a=n("gyMJ"),i=function(e,t,i){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return n.i(a.a)(e,t,i,o,{headers:{"Sy-Headers":"device=pc;app=header"}})},o=window.ShiYue.base+"/api/storage/show/unit/",s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"color",t=arguments[1];return i("post","/api/base/desktop/settheme",{type:e,theme:t})},l=function(e){return i("get","/api/base/user/validata/email",{email:e})},r=function(e){return i("get","/api/base/user/validata/mobile",{mobile:e})},c=window.ShiYue.base+"/api/storage/upload/type";window.ShiYue.base,window.ShiYue.base},lDuy:function(e,t,n){"use strict";var a=n(11),i=n.n(a),o=n("n4Qv"),s=n("YtJ0"),l=n("KYym"),r=(n.n(l),n("WYl9"));t.a={name:"MyDesktop",data:function(){return{getUnitLogo:r.a+this.$store.state.unitId,imgUrl:r.b,showImgUrl:"",deskImgUrl:"",isHaveImg:!0,isDeskHaveImg:!0,loading:!1,isfullscreen:!1,bgColor:{background:"rgb(73, 193, 219)"},tableData:[],activeName:"first",selfMsgDialog:!1,menuModelDialog:!1,themeModelDialog:!1,editable:!0,imgloading:!1,isDragging:!1,delayedDragging:!1,isOpen:!1,value:3,oldPassWord:"",menuList:[],oldloginMobile:"",oldloginEmail:"",photoModel:{},mottoModel:{},msgModel:{},toolsModel:{},unitId:"",isEditDialog:!1,langModelDialog:!1,editData:[],editDialog:!1,currentColor:window.localStorage.getItem("themeColor")||"#20a0ff",themeColorList:[{"zh-CN":"中国红",en:"China red",color:"#e31d1a"},{"zh-CN":"东方蓝",en:"Oriental Blue",color:"#457CD6"},{"zh-CN":"赛罗蓝",en:"Siro Blue",color:"#49C1D9"},{"zh-CN":"清新绿",en:"Fresh green",color:"#4DB021"}],loginConfigMsg:{footer:"",link:""},dialogFormVisible:!1,userName:"",iocnSrc:"",inputHost:window.localStorage.getItem("currentHost")||"",aboutDialog:!1}},watch:{name:function(e,t){e&&(this.userName=e)},isDragging:function(e){var t=this;e?this.delayedDragging=!0:this.$nextTick(function(){t.delayedDragging=!1})}},computed:{env:function(){return!1}},beforeCreate:function(){},created:function(){s.a.state.realName?this.userName=s.a.state.realName:this.userName="",s.a.state.avatar?this.iocnSrc=window.ShiYue.base+"/api/storage/show/"+s.a.state.avatar:this.iocnSrc=window.ShiYue.base+"/api/storage/show/logo.png";var e=window.localStorage.getItem("loginConfigMsg");(e=!!e&&JSON.parse(e))&&e.link&&(this.loginConfigMsg.footer=e.footer,this.loginConfigMsg.link=e.link),this.init()},methods:{init:function(){this.handleChangeLange(this.lang)},handleChangeLange:function(e){this.$emit("changeLange",e),this.$store.commit("changeLange",e)},changeHost:function(){this.dialogFormVisible=!1,window.localStorage.setItem("currentHost",this.inputHost),window.location.reload()},handleChange:function(e){this.changeThemeColor(e)},changeThemeColor:function(e){var t=this,a=window.localStorage.getItem("themeColor");a&&a==e||n.i(r.c)("color",e).then(function(a){a&&"success"===a.data&&(t.$notify({message:"设置成功！",type:"success"}),window.localStorage.setItem("themeColor",e),n.i(o.a)(e))})},onSelectType:function(e){this.selfMsgForm.motto===e||(this.selfMsgForm.motto=e,this.submitForm("save"))},handleBulur:function(e,t,a,i){var o=this;if("phone"===e){if(!t)return;if(this.oldloginMobile===this.$trim(t))return;this.$checkPhoneNumber(this.$trim(t))?n.i(r.d)(this.$trim(t)).then(function(e){e.data||(o.$notify({message:"手机号码已存在！",type:"warning"}),a[i]="")}):(this.$notify({message:"手机号码格式有误！",type:"error"}),a[i]="")}else if("email"===e){if(!t)return;if(this.oldloginEmail===this.$trim(t))return;this.$checkEmail(this.$trim(t))?n.i(r.e)(this.$trim(t)).then(function(e){e.data||(o.$notify({message:"邮箱已存在！",type:"warning"}),a[i]="")}):(this.$notify({message:"邮箱格式有误！",type:"error"}),a[i]="")}},open:function(e){var t=this;if("logout"===e)this.$confirm(this.$store.state.lang.header.infomsg,this.$store.state.lang.header.info,{confirmButtonText:this.$store.state.lang.button.ok,cancelButtonText:this.$store.state.lang.button.cancel,type:"warning"}).then(function(){window.localStorage.clear(),window.sessionStorage.clear(),$.post(window.ShiYue.base+"/api/uaa/oauth/logout",function(e){t.$createElement,location.href="/login"})}).catch(function(){});else if("reload"===e)window.location.reload();else if("theme"===e)this.themeModelDialog=!0;else if("full"===e){if(!i.a.enabled)return this.$message({message:"you browser can not work",type:"warning"}),!1;this.isfullscreen=!this.isfullscreen,i.a.toggle(),this.isfullscreen?this.onFullScreenEvent(this.fullScreenCallback):this.offFullScreenEvent(this.fullScreenCallback)}else"host"==e?this.dialogFormVisible=!0:"lang"==e?this.langModelDialog=!0:this.$alert("此功能没做","提示",{confirmButtonText:"确定",callback:function(e){}})},handleBack:function(){location.href="/desktop"},fullScreenCallback:function(){this.isfullscreen=this.fullScreenStatus(),this.fullScreenStatus()||this.offFullScreenEvent(this.fullScreenCallback)},fullScreenStatus:function(){return!!(document.fullscreen||document.mozFullScreen||document.fullscreenElement||document.msFullscreenElement||document.webkitIsFullScreen)},onFullScreenEvent:function(e){document.addEventListener("fullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("MSFullscreenChange",e),document.addEventListener("webkitfullscreenchange",e)},offFullScreenEvent:function(e){document.removeEventListener("fullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e),document.removeEventListener("webkitfullscreenchange",e)}},mounted:function(){}}}});
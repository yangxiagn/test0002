webpackJsonp([23],{"9mOq":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(10),i=e.n(a),o=e("ttoY");s.default={data:function(){return{monthsName:"历史月份",showNums:!1,show:{1:!0,2:!1,3:!1,4:!1},gradeValue:"",paramsList:{courseValue:"",type:1,month:void 0,year:void 0},mList:[],courselist:[],input2:"",activeName:"first",tableData:[],myChart1:null,myChart2:null,option1:{backgroundColor:"#fff",tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"value",axisTick:{show:!1},splitLine:{show:!1}},yAxis:{type:"category",data:["直播课程","视频微课","单元检测","课后作业","点播课程"],axisTick:{show:!1}},series:[],grid:{left:100,right:60,top:30,bottom:40},itemStyle:{normal:{color:function(t){return["#8beafe","#6ee469","#fefc8b","#2ee4d5","#fdafc7"][t.dataIndex]}}}},option2:{backgroundColor:"#fff",tooltip:{trigger:"axis",axisPointer:{type:"cross"}},toolbox:{show:!0,feature:{magicType:{type:["line","bar"]},saveAsImage:{show:!0,title:"下载",name:"学生学习时长统计"}}},xAxis:{type:"category",data:[],axisTick:{show:!1}},yAxis:{type:"value",axisTick:{show:!1},splitLine:{show:!1}},grid:{left:40,right:30,top:30,bottom:40},series:[]}}},created:function(){this.$parent.$emit("currentPage","/sl/home/parhome"),this.init()},methods:{init:function(){this.getModths(),this.getCourseList()},getFB:function(){var t=this;e.i(o.c)({courseValue:this.paramsList.courseValue,gradeValue:this.gradeValue}).then(function(s){t.drawchart1(s)})},getModths:function(){var t=this;e.i(o.d)().then(function(s){s&&s.forEach(function(t,s){t.isSelect=!1}),t.mList=s||[]})},getCourseList:function(){var t=this;e.i(o.e)().then(function(s){t.gradeValue=s.gradeValue,t.courselist=s.courseInformationVM||[],t.paramsList.courseValue=t.courselist.length>0?t.courselist[0].courseValue:""}).catch(function(t){})},handleChangeCourse:function(){this.getFB(),this.handleChangeDate("1")},getTimers:function(){var t=this;e.i(o.f)(this.paramsList).then(function(s){t.drawChart2(s)}).catch(function(t){})},handleClickM:function(t){t.isSelect=!0,this.monthsName=t.month+"月",this.showNums=!1,this.paramsList.year=t.year,this.paramsList.month=t.month,this.getTimers()},handleChangeDate:function(t){for(var s in this.show)this.show[s]=t==s;this.paramsList.type=t,"4"!=t?(this.monthsName="历史月份",this.paramsList.year=void 0,this.paramsList.month=void 0,this.getTimers()):this.showNums=!this.showNums},drawchart1:function(t){var s=this,e={};if(t?e=t:e.resourceCount={},this.myChart1.showLoading(),e.resourceCount){var a=[e.resourceCount[5]||0,e.resourceCount[4]||0,e.resourceCount[3]||0,e.resourceCount[2]||0,e.resourceCount[1]||0];this.option1.series=[{name:"资源数",data:a,type:"bar"}],this.myChart1.setOption(this.option1),setTimeout(function(){s.myChart1.hideLoading()},10)}},drawChart2:function(t){var s=this,e=[],a=[];t&&t.forEach(function(t,s){e.push(t.monthAndDay),a.push(t.minute)}),this.myChart2.showLoading(),this.option2.xAxis.data=e,this.option2.series=[{name:"学习时长",data:a,type:"line"}],this.myChart2.setOption(this.option2),setTimeout(function(){s.myChart2.hideLoading()},10)},handleMoreClick:function(){this.$router.push({path:"question"})}},mounted:function(){this.$refs.myChart1&&(this.myChart1=i.a.init(this.$refs.myChart1),this.myChart1.setOption(this.option1)),this.$refs.myChart2&&(this.myChart2=i.a.init(this.$refs.myChart2),this.myChart2.setOption(this.option2))}}},"MKt+":function(t,s,e){var a=e("VU/8")(e("9mOq"),e("kn7m"),function(t){e("RTbw")},"data-v-3484c647",null);t.exports=a.exports},RTbw:function(t,s){},kn7m:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sy-parhome-index"},[e("sy-grad-4",{attrs:{border:!1}},[e("div",{staticClass:"parhome-body",staticStyle:{width:"96%"},slot:"bodyRight"},[e("div",[e("div",{staticClass:"parhome-tit"},[e("h3",[t._v("资源分布")]),t._v(" "),e("el-select",{staticStyle:{"margin-top":"6px"},attrs:{placeholder:"请选择科目"},on:{change:t.handleChangeCourse},model:{value:t.paramsList.courseValue,callback:function(s){t.paramsList.courseValue=s},expression:"paramsList.courseValue"}},t._l(t.courselist,function(t){return e("el-option",{key:t.courseValue,attrs:{label:t.courseName,value:t.courseValue}})}))],1),t._v(" "),e("div",{ref:"myChart1",staticClass:"sy-parhome-bgbor parhome-chart"})]),t._v(" "),e("div",{staticClass:"parhome-bottom"},[e("el-row",[e("el-col",{attrs:{span:6}},[e("h3",[t._v("学生人数")])]),t._v(" "),e("el-col",{staticClass:"right sy-parhome-pointer",attrs:{span:18}},[e("span",[t._v("选择时间段：")]),t._v(" "),e("span",{class:{"sy-theme-text":t.show[1]},on:{click:function(s){t.handleChangeDate("1")}}},[t._v("本周")]),t._v(" "),e("span",{staticStyle:{padding:"0 6px"}},[t._v(" | ")]),t._v(" "),e("span",{class:{"sy-theme-text":t.show[2]},on:{click:function(s){t.handleChangeDate("2")}}},[t._v("上周")]),t._v(" "),e("span",{staticStyle:{padding:"0 6px"}},[t._v(" | ")]),t._v(" "),e("span",{class:{"sy-theme-text":t.show[3]},on:{click:function(s){t.handleChangeDate("3")}}},[t._v("本月")]),t._v(" "),e("span",{staticStyle:{padding:"0 6px"}},[t._v(" | ")]),t._v(" "),e("span",{staticClass:"relative",class:{"sy-theme-text":t.show[4]},on:{click:function(s){t.handleChangeDate("4")}}},[e("span",[t._v(t._s(t.monthsName))]),t._v(" "),e("el-collapse-transition",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showNums,expression:"showNums"}],staticClass:"sy-parhome-bgbor parhome-tabs"},t._l(t.mList,function(s){return e("el-button",{key:s.value,staticClass:"parhome-button",attrs:{type:"text",disabled:!s.type,title:s.year+"年"},on:{click:function(e){e.stopPropagation(),t.handleClickM(s)}}},[t._v(t._s(s.month)+"月")])}))])],1)])],1),t._v(" "),e("div",{ref:"myChart2",staticClass:"sy-parhome-bgbor parhome-chart"})],1)])])],1)},staticRenderFns:[]}}});
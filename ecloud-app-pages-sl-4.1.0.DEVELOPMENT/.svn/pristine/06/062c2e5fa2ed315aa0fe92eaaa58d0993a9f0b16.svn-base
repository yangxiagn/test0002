webpackJsonp([22],{"6F7+":function(e,t){},"9sB2":function(e,t,a){var s=a("VU/8")(a("XsC+"),a("s/UA"),function(e){a("6F7+")},"data-v-bc96eaf4",null);e.exports=s.exports},"XsC+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("bOdI"),i=a.n(s),o=a("ttoY");t.default={data:function(){return{activeName:"1",pageloading:!1,tableDate:[],defaultKey:[],currentKey:"",courseName:"",defaultProps:{children:"children",label:"catalogName"},showData:{homeworkResourceVMList:[],videoResourceVMList:[]}}},created:function(){this.$parent.$emit("currentPage","/sl/home/parstudy"),this.init()},methods:{init:function(){var e=JSON.parse(window.sessionStorage.getItem("_course_parent_data"));e&&(this.courseName=e.courseName),this.getDetails()},getDetails:function(){var e=this;this.pageloading=!0,a.i(o.b)({courseValue:this.$route.query.value}).then(function(t){var a=e.data2tree(t,"catalogId","parentId");e.pageloading=!1,e.tableDate=a}).catch(function(t){e.pageloading=!1})},data2tree:function(e,t,a){t||(t="id"),a||(a="parentId");for(var s=[],o=0;o<e.length;o++){var n=_.cloneDeep(e[o]);(n[a+""]||""==n[a+""])&&_.result(_.find(e,i()({},t,n[a+""])),t)||(function s(i){for(var o=[],n=0;n<e.length;n++){var r=_.cloneDeep(e[n]);r[a+""]==i[t+""]&&(o.push(r),s(r))}o.length&&(i.children=o)}(n),s.push(n))}return s},handleNodeClick:function(e){this.showData.homeworkResourceVMList=[],this.showData.videoResourceVMList=[],e&&(this.showData.homeworkResourceVMList=e.homeworkResourceVMList||[],this.showData.videoResourceVMList=e.videoResourceVMList||[])},renderContent:function(e,t){var a=t.node,s=t.data;return t.store,e("span",null,[e("span",null,[e("i",{style:{display:1!=a.level?"none":"",fontSize:"16px",position:"relative",top:"2px"},class:{fa:!0,"fa-folder-o":!a.expanded,"fa-folder-open-o":a.expanded},attrs:{"aria-hidden":"true"}},[]),e("span",null,[" ",s.catalogName])])])},back:function(){this.$router.push({path:"parstudy"})},handleClickVideo:function(e){this.$router.push({path:"pardetails",query:{tab:e}})}}}},"s/UA":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.pageloading,expression:"pageloading"}],staticClass:"sy-app-container",staticStyle:{overflow:"auto"},attrs:{"element-loading-text":"拼命加载中..."}},[a("sy-grad-4",[a("div",{staticStyle:{"line-height":"40px"},slot:"headerRight"},[a("b",[e._v(e._s(e.courseName))]),e._v(" "),a("el-button",{staticStyle:{float:"right","margin-top":"5px"},on:{click:function(t){e.back(1)}}},[e._v("返回")])],1),e._v(" "),a("div",{slot:"bodyLeft"},[a("el-tree",{staticStyle:{border:"0",height:"100%"},attrs:{data:e.tableDate,"node-key":"catalogId",props:e.defaultProps,"default-expanded-keys":e.defaultKey,"current-node-key":e.currentKey,"render-content":e.renderContent,"highlight-current":"","default-expand-all":!1},on:{"node-click":e.handleNodeClick}})],1),e._v(" "),a("div",{staticStyle:{padding:"0 10px 10px","overflow-y":"auto"},slot:"bodyRight"},[0!=e.showData.videoResourceVMList.length?a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"视频资源",name:"1"}},[a("el-card",e._l(e.showData.videoResourceVMList,function(t){return a("div",{key:t.id,staticClass:"tpl-sl-rows"},[a("i",{staticClass:"fa fa-film",attrs:{"aria-hidden":"true"}}),e._v(" "),a("span",{staticClass:"tpl-sl-title"},[e._v(e._s(t.name))]),e._v(" "),a("el-progress",{staticStyle:{width:"150px",display:"inline-block"},attrs:{"text-inside":!0,"stroke-width":18,percentage:t.percentage,status:t.percentage<50?"exception":100==t.percentage?"success":""}})],1)}))],1)],1):e._e(),e._v(" "),0!=e.showData.homeworkResourceVMList.length?a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"作业资源",name:"1"}},[a("el-card",e._l(e.showData.homeworkResourceVMList,function(t){return a("div",{key:t.id,staticClass:"tpl-sl-rows"},[a("i",{staticClass:"fa fa-file-text",attrs:{"aria-hidden":"true"}}),e._v(" "),a("span",{staticClass:"tpl-sl-title"},[e._v(e._s(t.name))]),e._v(" "),a("span",[e._v("正确率：")]),e._v(" "),a("el-tag",{attrs:{type:parseFloat(t.correctRate)>50?"success":"danger"}},[e._v(e._s(t.correctRate?t.correctRate:"0%"))])],1)}))],1)],1):e._e(),e._v(" "),0==e.showData.videoResourceVMList.length&&0==e.showData.homeworkResourceVMList.length?a("p",{staticClass:"center",staticStyle:{"line-height":"160px",color:"#ccc"}},[e._v("该编目没有学习记录")]):e._e()],1)])],1)},staticRenderFns:[]}}});
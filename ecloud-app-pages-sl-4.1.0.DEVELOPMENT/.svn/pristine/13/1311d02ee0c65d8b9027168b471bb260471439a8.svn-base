webpackJsonp([7],{"+G1G":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Uus3");e.default={data:function(){return{pramsList:{start:1,size:30,total:0},queryList:{gradeValue:"",clazzId:"",courseValue:""},gradelist:[],classlist:[],courselist:[],input2:"",activeName:"first",tableData:[],multipleSelection:[]}},created:function(){this.$parent.$emit("currentPage","/sl/home/home"),this.init()},methods:{init:function(){this.getGradeClazzCoures()},getGradeClazzCoures:function(){var t=this;a.i(n.a)().then(function(e){t.gradelist=e||[],t.queryList.gradeValue=t.gradelist.length>0?t.gradelist[0].gradeValue:""})},handleGradeChange:function(t){var e=this;this.queryList.clazzId="",this.queryList.courseValue="",setTimeout(function(){for(var a=0;a<e.gradelist.length;a++)if(e.gradelist[a].gradeValue==t)return e.classlist=e.gradelist[a].clazzs||[],void(e.queryList.clazzId=e.classlist.length>0?e.classlist[0].id:"")},50)},handleClzzChange:function(t){var e=this;this.queryList.courseValue="",setTimeout(function(){for(var a=0;a<e.gradelist.length;a++)if(e.gradelist[a].gradeValue==e.queryList.gradeValue){var n=e.gradelist[a].clazzs;if(n)for(var i=0;i<n.length;i++)if(n[i].id==t)return e.courselist=n[i].courseListsVM||[],void(e.queryList.courseValue=e.courselist.length>0?e.courselist[0].courseValue:"");return}},50)},handleCourseChange:function(t){this.getStudentsQuestionList()},getStudentsQuestionList:function(){var t=this;""!==this.queryList.courseValue&&""!==this.queryList.clazzId&&""!==this.queryList.gradeValue&&a.i(n.b)({start:this.pramsList.start,size:this.pramsList.size,gradeValue:this.queryList.gradeValue,courseValue:this.queryList.courseValue,classId:this.queryList.clazzId}).then(function(e){t.tableData=e.list||[],t.pramsList.total=e.total}).catch(function(t){})},handleSelectionChange:function(t){this.multipleSelection=t},back:function(){this.$router.push({path:"Home"})},handleCurrentChange:function(t){this.pramsList.start=t,this.getStudentsQuestionList()},handleDelete:function(){var t=this;this.$confirm("是否继续删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e=[];t.multipleSelection.forEach(function(t,a){e.push(t.id)}),a.i(n.c)(e.join(",")).then(function(e){t.$notify({message:"删除成功",type:"success"}),t.getStudentsQuestionList()}).catch(function(t){})}).catch(function(){})}}}},Uus3:function(t,e,a){"use strict";a.d(e,"a",function(){return l}),a.d(e,"e",function(){return r}),a.d(e,"b",function(){return u}),a.d(e,"c",function(){return o}),a.d(e,"d",function(){return c}),a.d(e,"f",function(){return d});var n=a("//Fk"),i=a.n(n),s=a("r6Pd"),l=function(){return new i.a(function(t,e){a.i(s.a)("get","api/base/grade/clazz/course",{}).then(function(a){200==a.status?t(a.data):e(a)}).catch(function(t){e(t)})})},r=function(t){return new i.a(function(e,n){a.i(s.a)("get","api/sl/select_catelog_count_than",t).then(function(t){200==t.status?e(t.data):n(t)}).catch(function(t){n(t)})})},u=function(t){return new i.a(function(e,n){a.i(s.a)("get","api/sl/select_student_questions",t).then(function(t){200==t.status?e(t.data):n(t)}).catch(function(t){n(t)})})},o=function(t){return new i.a(function(e,n){a.i(s.a)("post","api/sl/delete_student_questions",{ids:t}).then(function(t){200==t.status?e(t.data):n(t)}).catch(function(t){n(t)})})},c=function(){return new i.a(function(t,e){a.i(s.a)("get","api/sl/find_history_date",{}).then(function(a){200==a.status?t(a.data):e(a)}).catch(function(t){e(t)})})},d=function(t){return new i.a(function(e,n){a.i(s.a)("GET","api/sl/select_learning_count_statistics",t).then(function(t){200==t.status?e(t.data):n(t)}).catch(function(t){n(t)})})}},gb9b:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sy-ques-index"},[a("sy-grad-4",{attrs:{border:!1}},[a("div",{staticStyle:{"padding-top":"6px"},slot:"headerRight"},[a("el-select",{staticStyle:{width:"136px"},attrs:{placeholder:"请选择年级"},on:{change:t.handleGradeChange},model:{value:t.queryList.gradeValue,callback:function(e){t.queryList.gradeValue=e},expression:"queryList.gradeValue"}},t._l(t.gradelist,function(t){return a("el-option",{key:t.gradeValue,attrs:{label:t.gradeName,value:t.gradeValue}})})),t._v(" "),a("el-select",{staticStyle:{width:"100px",margin:"0 10px"},attrs:{placeholder:"请选择班级"},on:{change:t.handleClzzChange},model:{value:t.queryList.clazzId,callback:function(e){t.queryList.clazzId=e},expression:"queryList.clazzId"}},t._l(t.classlist,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),t._v(" "),a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择科目"},on:{change:t.handleCourseChange},model:{value:t.queryList.courseValue,callback:function(e){t.queryList.courseValue=e},expression:"queryList.courseValue"}},t._l(t.courselist,function(t){return a("el-option",{key:t.courseValue,attrs:{label:t.courseName,value:t.courseValue}})})),t._v(" "),a("el-button",{staticClass:"ques-button",on:{click:function(e){t.back()}}},[t._v("返回")])],1),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.pageloading,expression:"pageloading"}],staticStyle:{padding:"3px 10px"},attrs:{"element-loading-text":"拼命加载中..."},slot:"bodyRight"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%",height:"100%"},attrs:{data:t.tableData,border:"",height:"100%"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"序号",align:"center",width:"40",type:"index"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"content",label:"问题描述",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"姓名",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"gradeName",label:"年级",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"className",label:"班级",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"resName",label:"资源名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"createTime",label:"创建时间",align:"center"}})],1)],1),t._v(" "),a("div",{slot:"footer"},[a("el-button",{attrs:{type:"danger",disabled:0==t.multipleSelection.length},on:{click:t.handleDelete}},[t._v("删除")]),t._v(" "),a("el-pagination",{staticClass:"pagination-mf",attrs:{"current-page":t.pramsList.start,"page-size":t.pramsList.size,layout:"total, prev, pager, next",total:t.pramsList.total},on:{"current-change":t.handleCurrentChange}})],1)])],1)},staticRenderFns:[]}},pcJu:function(t,e,a){var n=a("VU/8")(a("+G1G"),a("gb9b"),function(t){a("xhpe")},"data-v-434e1a79",null);t.exports=n.exports},xhpe:function(t,e){}});